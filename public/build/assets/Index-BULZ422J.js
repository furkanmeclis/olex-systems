import{r as s,F as D,j as e,S as I}from"./app-Baq8ApHb.js";import{A as U}from"./AuthenticatedLayout-oRvzpbZ5.js";import{D as G}from"./datatable.esm-DI-tZLSL.js";import{C as a}from"./column.esm-DyKR1z4l.js";import{I as K}from"./inputtext.esm-DNF8AOou.js";import{B as l}from"./button.esm-DgT6WZGM.js";import{T as V}from"./tooltip.esm-BXBM_jrJ.js";import{C as Y}from"./confirmpopup.esm-Cjl4H0Pr.js";import{T as W}from"./toolbar.esm-8WQHbKcv.js";import{T as B}from"./toast.esm-BuJ7Yd3m.js";import{O as H}from"./overlaypanel.esm-b9xYc2QB.js";import{C as q}from"./checkbox.esm-BmTNB8Vy.js";import J from"./Create-B_CiHkQW.js";import Q from"./Update-Dwet6-Nb.js";import{u as X}from"./ripple.esm-Bvf-Pmh3.js";/* empty css            */import"./ApplicationLogo-Dr5NYUs-.js";import"./Dropdown-B7NH1tGe.js";import"./transition-CVQR47I-.js";import"./tag.esm-CXHE5cdY.js";import"./index.esm-EdZmLmH6.js";import"./paginator.esm-B0xHBJYv.js";import"./inputnumber.esm-maPPc7jk.js";import"./index.esm-B03aOKBu.js";import"./dropdown.esm-CGY_epL-.js";import"./index.esm-jh-zEQr6.js";import"./index.esm-DTMfxF1B.js";import"./overlayservice.esm-CHJbKesI.js";import"./csstransition.esm-Rb2Ld5o-.js";import"./index.esm-ByBSXWYu.js";import"./index.esm-DF7wB7Of.js";import"./index.esm-743QIRfW.js";import"./index.esm-DCJv3887.js";import"./index.esm-DI_E49JB.js";import"./index.esm-BMbE-3LP.js";import"./index.esm-DgQDTGs2.js";import"./blockui.esm-DF9E-dL0.js";import"./formik.esm-CxAZJmph.js";import"./cloneDeep-DJN0yfLA.js";import"./index.esm-BjHMF_mu.js";import"./message.esm-9hL-0n4-.js";import"./badge.esm-D102A8on.js";import"./dialog.esm-BzlEms0M.js";function Ke({auth:v,customersAll:y,csrf_token:d,page:p=!0}){const c=s.useRef(null),n=s.useRef(null),[u,C]=s.useState({global:{value:null,matchMode:D.CONTAINS}});s.useState(!1),s.useState(!1),s.useState(!1);const[x,N]=s.useState(""),[S,T]=s.useState([]),[w,M]=s.useState({});s.useRef(),s.useRef();const[F,f]=s.useState(y),_=["id","name","email","phone","worker_name","address","updated_at","created_at","actions"],P={id:"ID",name:"Müşteri Adı",phone:"Telefon",email:"Email",address:"Müşteri Adresi",worker_name:"Ekleyen Çalışan",updated_at:"Güncellenme Tarihi",created_at:"Eklenme Tarihi",actions:"İşlemler"},z=p===!0?"worker-customers-table-columns":"worker-customers-table-columns-2",[r,E]=X(["id","name","email","phone","updated_at","actions"],z),[h,j]=s.useState(!1),[L,g]=s.useState(!1),b=(t,m=!1)=>{const o=m?t:t.target.value;let i={...u};i.global.value=o,C(i),N(o)},O=e.jsx(e.Fragment,{children:e.jsx(W,{start:()=>e.jsxs(e.Fragment,{children:[e.jsx(l,{icon:"pi pi-plus",size:"small",severity:"success",tooltip:"Yeni Müşteri Ekle",tooltipOptions:{position:"top"},onClick:()=>{g(!0)},className:"mr-2"}),e.jsx(l,{icon:"pi pi-bars",size:"small",severity:"info",tooltip:"Kolonları Yönet",tooltipOptions:{position:"top"},onClick:t=>{n.current.toggle(t)},className:"mr-2"}),S.length>0&&e.jsx(e.Fragment,{children:e.jsx(l,{size:"small",icon:"pi pi-times",className:"p-button-warning mr-2",onClick:()=>T([]),tooltip:"Seçimi Temizle",tooltipOptions:{position:"top"}})})]}),end:()=>e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"p-input-icon-left",children:[e.jsx("i",{className:"pi pi-search"}),e.jsx(K,{size:"small",value:x,onChange:b,placeholder:"Müşterilerde Arama Yapın"})]}),x!==""&&e.jsx(l,{size:"small",icon:"pi pi-times",className:"p-button-info ml-2",onClick:()=>b("",!0),tooltip:"Filtreyi Temizle",tooltipOptions:{position:"top"}})]})})});s.useState(!1),s.useState(!1);const R=t=>{h||(M(t),j(!0))},k=()=>e.jsxs(e.Fragment,{children:[e.jsx(V,{target:".custom-target-icon"}),e.jsx(Y,{}),e.jsx(B,{ref:c}),e.jsx(H,{ref:n,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{children:"Kolonları Yönet"})}),e.jsxs("div",{className:"flex flex-col",children:[_.map((t,m)=>e.jsxs("div",{className:"flex my-1 items-center",children:[e.jsx(q,{inputId:t,checked:r.includes(t),onChange:o=>{let i=[...r];o.checked?i.push(t):i=i.filter(A=>A!==t),E(i)}}),e.jsx("label",{htmlFor:t,className:"ml-2",children:P[t]})]},m)),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(l,{label:"Kaydet",severity:"success",size:"small",onClick:()=>{n.current.hide()}})})]})]})}),e.jsxs(G,{value:F,removableSort:!0,paginator:!0,paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",rowsPerPageOptions:[5,10,25,50],rows:10,dataKey:"id",filters:u,loading:!1,globalFilterFields:["name","email","phone","worker.name"],header:O,emptyMessage:"Müşteri bulunamadı.",currentPageReportTemplate:"{first}. ile {last}. arası toplam {totalRecords} kayıttan",children:[r.includes("id")&&e.jsx(a,{field:"id",sortable:!0,header:"#"}),r.includes("name")&&e.jsx(a,{field:"name",sortable:!0,header:"Müşteri Adı"}),r.includes("email")&&e.jsx(a,{field:"email",sortable:!0,header:"Email"}),r.includes("phone")&&e.jsx(a,{field:"phone",sortable:!0,header:"Telefon No"}),r.includes("worker_name")&&e.jsx(a,{field:"worker.name",sortable:!0,header:"Ekleyen Çalışan"}),r.includes("address")&&e.jsx(a,{field:"address",sortable:!0,header:"Müşteri Adresi"}),r.includes("created_at")&&e.jsx(a,{field:"created_at",sortable:!0,header:"Eklenme Tarihi",body:t=>new Date(t.created_at).toLocaleString()}),r.includes("updated_at")&&e.jsx(a,{field:"updated_at",sortable:!0,header:"Güncellenme Tarihi",body:t=>new Date(t.updated_at).toLocaleString()}),r.includes("actions")&&e.jsx(a,{header:"İşlemler",body:t=>e.jsx("div",{className:"flex justify-center gap-x-2",children:e.jsx(l,{icon:"pi pi-pencil",size:"small",tooltip:"Müşteriyi Düzenle",tooltipOptions:{position:"top"},severity:"warning",onClick:()=>{R(t)}})})})]}),e.jsx(Q,{visible:h,toast:c,user:w,csrf_token:d,setVisible:j,setUsers:f}),e.jsx(J,{csrf_token:d,setUsers:f,visible:L,setVisible:g})]});return p===!0?e.jsxs(U,{user:v.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Müşteriler"}),children:[e.jsx(I,{title:"Müşteriler"}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx(k,{})})})})]}):e.jsx(k,{})}export{Ke as default};
