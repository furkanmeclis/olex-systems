import{r as m,j as e,a as _}from"./app-BAn7_dTb.js";import{D as y}from"./dialog.esm-B2iT5ffG.js";import{I as x}from"./inputtext.esm-Bfdbkh3z.js";import{B as p}from"./button.esm-6ttV0C6_.js";import{C as k}from"./checkbox.esm-ZRJ3ETTG.js";import"./ripple.esm-itjK-D4Y.js";import"./csstransition.esm-WhQAvYuz.js";import"./index.esm-DTunBSBe.js";import"./tooltip.esm-wnagnDyJ.js";import"./index.esm-BiwjashV.js";import"./index.esm-1RYS9H8v.js";function S({visible:u,setVisible:r,toast:n,setModels:f,brand:l}){const[h,c]=m.useState(!1),[s,i]=m.useState({name:"",brand_id:l.id,is_active:!0}),v=async t=>{var a,d;t.preventDefault();try{c(!0);const o=await _.post(route("super.car.brands.models.store",l.id),s);f(g=>[...g,o.data.model]),n.current.show({severity:"success",summary:"Başarılı",detail:"Model başarıyla eklendi",life:3e3}),r(!1),i({name:"",brand_id:l.id,is_active:!0})}catch(o){n.current.show({severity:"error",summary:"Hata",detail:((d=(a=o.response)==null?void 0:a.data)==null?void 0:d.message)||"Bir hata oluştu",life:3e3})}finally{c(!1)}},j=e.jsxs("div",{children:[e.jsx(p,{label:"İptal",icon:"pi pi-times",onClick:()=>r(!1),className:"p-button-text"}),e.jsx(p,{label:"Kaydet",icon:"pi pi-check",onClick:v,loading:h})]});return e.jsx(y,{header:"Yeni Model Ekle",visible:u,style:{width:"50vw"},onHide:()=>r(!1),footer:j,children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"name",children:"Model Adı"}),e.jsx(x,{id:"name",value:s.name,onChange:t=>i(a=>({...a,name:t.target.value}))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"external_id",children:"Harici ID"}),e.jsx(x,{id:"external_id",value:s.external_id,onChange:t=>i(a=>({...a,external_id:t.target.value}))})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(k,{inputId:"is_active",checked:s.is_active,onChange:t=>i(a=>({...a,is_active:t.checked}))}),e.jsx("label",{htmlFor:"is_active",children:"Aktif"})]})]})})}export{S as default};
