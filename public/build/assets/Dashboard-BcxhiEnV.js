function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{c as D,r as m,P as F,_ as E,R as x,j as e,a as z,y as o}from"./app-ClrsTf0F.js";import{A as H}from"./AuthenticatedLayout-DSU16mWj.js";import{C as r}from"./card.esm-D8pQwf2q.js";import{B as c}from"./button.esm-BdLbPjnf.js";import{T as M}from"./toast.esm-CI85vIht.js";import{C as _,b as V,c as L,g as O}from"./ripple.esm-FqpoZDy7.js";import{B as N}from"./blockui.esm-DwJDP0N2.js";import"./ApplicationLogo-CKPDd-42.js";import"./Dropdown-BccHHB98.js";import"./transition-BtKCOD1_.js";import"./tag.esm-BdiNQzV7.js";import"./index.esm-a59ZHwdl.js";import"./tooltip.esm-Ce4d-QiB.js";import"./csstransition.esm-DUPW-aq3.js";import"./index.esm-DZsjv3A5.js";import"./index.esm-CcyJqw6R.js";import"./index.esm-DAis87B6.js";import"./index.esm-lPNJbiMs.js";var k=_.extend({defaultProps:{__TYPE:"Chart",id:null,type:null,data:null,options:null,plugins:null,width:null,height:null,style:null,className:null,children:void 0},css:{classes:{root:function(t){var u=t.props;return D("p-chart",u.className)}},inlineStyles:{root:function(t){var u=t.props;return Object.assign({width:u.width,height:u.height},u.style)}},styles:`
        @layer primereact {
            .p-chart {
                position: relative
            }
        }
        `}}),A=function(){try{return Chart}catch{return null}}(),y=m.memo(m.forwardRef(function(s,t){var u=V(),h=m.useContext(F),a=k.getProps(s,h),b=k.setMetaData({props:a}),C=b.ptm,S=b.cx,B=b.sx,T=b.isUnstyled;L(k.css.styles,T,{name:"chart"});var v=m.useRef(null),l=m.useRef(null),d=m.useRef(null),w=function(){g();var j={type:a.type,data:a.data,options:a.options,plugins:a.plugins};A?l.current=new A(d.current,j):E(()=>import("./auto-Kw6THeRU.js"),__vite__mapDeps([])).then(function(f){g(),d.current&&f&&(f.default?l.current=new f.default(d.current,j):l.current=new f(d.current,j))})},g=function(){l.current&&(l.current.destroy(),l.current=null)};m.useImperativeHandle(t,function(){return{props:a,getCanvas:function(){return d.current},getChart:function(){return l.current},getBase64Image:function(){return l.current.toBase64Image()},getElement:function(){return v.current},generateLegend:function(){return l.current&&l.current.generateLegend()},refresh:function(){return l.current&&l.current.update()}}}),m.useEffect(function(){w()}),O(function(){g()});var P=a.options&&a.options.plugins&&a.options.plugins.title&&a.options.plugins.title.text,R=a.ariaLabel||P,n=u({id:a.id,ref:v,style:B("root"),className:S("root")},k.getOtherProps(a),C("root")),i=u({ref:d,width:a.width,height:a.height,role:"img","aria-label":R},C("canvas"));return m.createElement("div",n,m.createElement("canvas",i))}),function(s,t){return s.data===t.data&&s.options===t.options&&s.type===t.type});y.displayName="Chart";function le({auth:s,metrics:t,csrf_token:u}){x.useState();const[h,a]=x.useState(!1),b=x.useRef(null),[C,S]=x.useState({}),[B,T]=x.useState({}),[v,l]=x.useState({}),[d,w]=x.useState({}),[g,P]=x.useState({}),R=()=>{a(!0);const n=getComputedStyle(document.documentElement);fetch(route(`${s.user.role==="super"?"super":"dealer"}.staticsData`),{method:"POST",headers:{"X-CSRF-TOKEN":u}}).then(i=>i.json()).then(i=>{S({labels:i.chart.chart.labels,datasets:[{label:"Tamamlanan Hizmetler",backgroundColor:n.getPropertyValue("--blue-500"),borderColor:n.getPropertyValue("--blue-500"),data:i.chart.chart.data,borderRadius:10}]}),T({labels:i.chart.brands.labels,datasets:[{label:"Marka Dağılımı",backgroundColor:n.getPropertyValue("--primary-500"),borderColor:n.getPropertyValue("--primary-500"),data:i.chart.brands.data,borderRadius:10}]}),s.user.role==="super"&&l({labels:i.chart.dealer.labels,datasets:[{label:"Hizmet Bayi Dağılımı",backgroundColor:n.getPropertyValue("--green-500"),borderColor:n.getPropertyValue("--green-500"),data:i.chart.dealer.data,borderRadius:10}]}),s.user.role==="admin"&&P({labels:i.chart.worker.labels,datasets:[{label:"Çalışan Hizmet Dağılımı",backgroundColor:n.getPropertyValue("--green-500"),borderColor:n.getPropertyValue("--green-500"),data:i.chart.worker.data,borderRadius:10}]})}).catch(i=>{console.error("Error:",i),b.current.show({severity:"error",summary:"Hata",detail:"CSRF Token Hatası Lütfen Sayfayı Yenileyiniz.."})}).finally(()=>{a(!1)})};return x.useEffect(()=>{R()},[]),x.useEffect(()=>{const n=getComputedStyle(document.documentElement),i=n.getPropertyValue("--text-color"),p=n.getPropertyValue("--text-color-secondary"),j=n.getPropertyValue("--surface-border");w({maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{fontColor:i}}},scales:{x:{ticks:{color:p,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{min:0,ticks:{color:p},grid:{color:j,drawBorder:!1}}}})},[]),e.jsxs(H,{user:s.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Anasayfa"}),children:[e.jsx(z,{title:"Anasayfa"}),e.jsx(M,{ref:b}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-[100rem] mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[s.user.role==="super"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Bayiler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.dealers," Adet Bayi"]}),children:e.jsx(c,{label:"Bayiler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("super.dealers.index"))}})}),e.jsx(r,{title:"Çalışanlar",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.workers," Adet Bayi Çalışanı"]}),children:e.jsx(c,{label:"Çalışanlar",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("super.workers.index"))}})}),e.jsx(r,{title:"Ürünler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-box"})," ",t.products," Adet Ürün"]}),children:e.jsx(c,{label:"Ürünler",icon:"pi pi-box",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("super.products.index"))}})}),e.jsx(r,{title:"Bayi Ürün Siparişleri",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-database"})," ",t.orders," Adet Sipariş"]}),children:e.jsx(c,{label:"Siparişler",icon:"pi pi-database",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("super.orders.index"))}})}),e.jsx(r,{title:"Müşteriler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.customers," Adet Müşteri"]}),children:e.jsx(c,{label:"Müşteriler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("super.customers.index"))}})}),e.jsx(r,{title:"Hizmetler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-file"})," ",t.services," Adet Hizmet Kaydı"]})})]}),String(s.user.role).includes("central")&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Bayiler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.dealers," Adet Bayi"]}),children:e.jsx(c,{label:"Bayiler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("central.dealers.index"))}})}),e.jsx(r,{title:"Çalışanlar",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.workers," Adet Bayi Çalışanı"]}),children:e.jsx(c,{label:"Çalışanlar",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("central.workers.index"))}})}),e.jsx(r,{title:"Ürünler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-box"})," ",t.products," Adet Ürün"]}),children:e.jsx(c,{label:"Ürünler",icon:"pi pi-box",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("central.products.index"))}})}),e.jsx(r,{title:"Bayi Ürün Siparişleri",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-database"})," ",t.orders," Adet Sipariş"]}),children:e.jsx(c,{label:"Siparişler",icon:"pi pi-database",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("central.orders.index"))}})}),e.jsx(r,{title:"Müşteriler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.customers," Adet Müşteri"]}),children:e.jsx(c,{label:"Müşteriler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("super.customers.index"))}})})]}),s.user.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Çalışanlar",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.workers," Adet Çalışan"]}),children:e.jsx(c,{label:"Çalışanlar",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("dealer.workers.index"))}})}),e.jsx(r,{title:"Siparişler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-database"})," ",t.orders," Adet Sipariş"]}),children:e.jsx(c,{label:"Siparişler",icon:"pi pi-database",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("dealer.orders"))}})}),e.jsx(r,{title:"Müşteriler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.customers," Adet Müşteri"]}),children:e.jsx(c,{label:"Müşteriler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("dealer.customers"))}})}),e.jsx(r,{title:"Hizmetler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-file"})," ",t.services," Adet Hizmet Kaydı"]}),children:e.jsx(c,{label:"Hizmetler",icon:"pi pi-file",className:"p-button-raised p-button-rounded",onClick:()=>{o.visit(route("dealer.services"))}})})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(N,{blocked:h,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:e.jsx(r,{title:"Hizmet Dağılımı",children:e.jsx(y,{type:"bar",data:C,options:d})})}),s.user.role==="super"&&e.jsx(N,{blocked:h,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:e.jsx(r,{title:"Hizmet Bayi Dağılımı",className:"mt-2",children:e.jsx(y,{type:"bar",data:v,options:d})})}),e.jsx(N,{blocked:h,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:e.jsx(r,{title:"Hizmet Marka Dağılımı",className:"mt-2",children:e.jsx(y,{type:"bar",data:B,options:d})})}),s.user.role==="admin"&&e.jsx(N,{blocked:h,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:e.jsx(r,{title:"Çalışan Performans Grafiği",className:"mt-2",children:e.jsx(y,{type:"bar",data:g,options:d})})})]})]})})]})}export{le as default};
