import{r as i,P as we,l as ce,D as h,c as S,d as H,O as w,Z,I as Ne}from"./app-Dz0Rbp0h.js";import{B as ie}from"./button.esm-Diq6oNXP.js";import{C as Re,u as Ie,a as Be,e as Le,f as _e,n as ke,i as Ae,j as Te,P as Ve,E as De}from"./ripple.esm-CYZs3McG.js";import{C as le}from"./csstransition.esm-DJl7jKS0.js";import{O as m}from"./overlayservice.esm-DnTU8eSE.js";function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},U.apply(null,arguments)}function He(e){if(Array.isArray(e))return e}function Ue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,c,P,E,v=[],j=!0,R=!1;try{if(P=(r=r.call(e)).next,t!==0)for(;!(j=(o=P.call(r)).done)&&(v.push(o.value),v.length!==t);j=!0);}catch(I){R=!0,c=I}finally{try{if(!j&&r.return!=null&&(E=r.return(),Object(E)!==E))return}finally{if(R)throw c}}return v}}function se(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function Fe(e,t){if(e){if(typeof e=="string")return se(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}function Ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G(e,t){return He(e)||Ue(e,t)||Fe(e,t)||Ke()}function N(e){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(e)}function $e(e,t){if(N(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(N(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Je(e){var t=$e(e,"string");return N(t)=="symbol"?t:t+""}function Me(e,t,r){return(t=Je(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xe=`
@layer primereact {
   .p-confirm-popup {
        margin-top: 10px;       
    }

    .p-confirm-popup-flipped {
        margin-top: -10px;
    }
    
    .p-confirm-popup:after, .p-confirm-popup:before {
        bottom: 100%;
        left: calc(var(--overlayArrowLeft, 0) + 1.25rem);
        content: " ";
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
    }
    
    .p-confirm-popup:after {
        border-width: 8px;
        margin-left: -8px;
    }
    
    .p-confirm-popup:before {
        border-width: 10px;
        margin-left: -10px;
    }
    
    .p-confirm-popup-flipped:after, .p-confirm-popup-flipped:before {
        bottom: auto;
        top: 100%;
    }
    
    .p-confirm-popup.p-confirm-popup-flipped:after {
        border-bottom-color: transparent;
    }
    
    .p-confirm-popup.p-confirm-popup-flipped:before {
        border-bottom-color: transparent
    }
    
    .p-confirm-popup .p-confirm-popup-content {
        display: flex;
        align-items: center;
    }
}
`,Ze={root:function(t){var r=t.context,o=t.getPropValue;return S("p-confirm-popup p-component",o("className"),{"p-input-filled":r&&r.inputStyle==="filled"||H.inputStyle==="filled","p-ripple-disabled":r&&r.ripple===!1||H.ripple===!1})},acceptButton:function(t){var r=t.getPropValue;return S("p-confirm-popup-accept p-button-sm",r("acceptClassName"))},rejectButton:function(t){var r=t.getPropValue;return S("p-confirm-popup-reject p-button-sm",{"p-button-text":!r("rejectClassName")},r("rejectClassName"))},content:"p-confirm-popup-content",icon:"p-confirm-popup-icon",message:"p-confirm-popup-message",footer:"p-confirm-popup-footer",transition:"p-connected-overlay"},D=Re.extend({defaultProps:{__TYPE:"ConfirmPopup",accept:null,acceptClassName:null,acceptIcon:null,acceptLabel:null,appendTo:null,children:void 0,className:null,closeOnEscape:!0,content:null,defaultFocus:"accept",dismissable:!0,footer:null,icon:null,message:null,onHide:null,onShow:null,reject:null,rejectClassName:null,rejectIcon:null,rejectLabel:null,style:null,tagKey:void 0,target:null,transitionOptions:null,visible:!1},css:{classes:Ze,styles:Xe}});function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ue(Object(r),!0).forEach(function(o){Me(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var et=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t=O(O({},t),{visible:t.visible===void 0?!0:t.visible}),t.visible&&m.emit("confirm-popup",t);var r=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m.emit("confirm-popup",O(O(O({},t),P),{visible:!0}))},o=function(){m.emit("confirm-popup",{visible:!1})};return{show:r,hide:o}},Ge=i.memo(i.forwardRef(function(e,t){var r=Ie(),o=i.useContext(we),c=D.getProps(e,o),P=i.useState(c.visible),E=G(P,2),v=E[0],j=E[1],R=i.useState(!1),I=G(R,2),F=I[0],z=I[1],K={props:c,state:{visible:v,reshow:F}},$=D.setMetaData(K),b=$.ptm,y=$.cx,Y=$.isUnstyled;Be(D.css.styles,Y,{name:"confirmpopup"});var u=i.useRef(null),B=i.useRef(null),L=i.useRef(null),C=i.useRef(!1),g=i.useRef(null),_=i.useRef(null),J=i.useRef(null),x=i.useRef(!1),k=function(){return _.current||c},a=function(n){return(_.current||c)[n]},A=function(n){for(var l=arguments.length,p=new Array(l>1?l-1:0),f=1;f<l;f++)p[f-1]=arguments[f];return w.getPropValue(a(n),p)},W=a("acceptLabel")||ce("accept"),q=a("rejectLabel")||ce("reject"),Q=c.dismissable&&c.closeOnEscape&&v,ee=Le("dialog",Q);_e({callback:function(){d("hide")},when:Q&&ee,priority:[De.DIALOG,ee]});var pe=ke({target:a("target"),overlay:u,listener:function(n,l){var p=l.type,f=l.valid;f&&(p==="outside"?c.dismissable&&!C.current&&d("hide"):d("hide")),C.current=!1},when:v}),te=G(pe,2),fe=te[0],me=te[1],ve=function(n){C.current=!0,m.emit("overlay-click",{originalEvent:n,target:a("target")})},re=function(){x.current||(x.current=!0,A("accept"),d("accept"))},ne=function(){x.current||(x.current=!0,A("reject"),d("reject"))},M=function(){var n=k();z(!1),n.group===c.group&&(j(!0),x.current=!1,g.current=function(l){!Ee(l.target)&&(C.current=!0)},m.on("overlay-click",g.current),J.current=document.activeElement)},d=function(n){j(!1),m.off("overlay-click",g.current),g.current=null,n&&A("onHide",n),h.focus(J.current),J.current=null},de=function(){Z.set("overlay",u.current,o&&o.autoZIndex||H.autoZIndex,o&&o.zIndex.overlay||H.zIndex.overlay),h.addStyles(u.current,{position:"absolute",top:"0",left:"0"}),Pe()},be=function(){fe();var n=a("defaultFocus");(n===void 0||n==="accept")&&B.current&&B.current.focus(),n==="reject"&&L.current&&L.current.focus(),A("onShow")},ye=function(){me()},ge=function(){Z.clear(u.current),C.current=!1},Pe=function(){if(a("target")){h.absolutePosition(u.current,a("target"));var n=h.getOffset(u.current),l=h.getOffset(a("target")),p=0;n.left<l.left&&(p=l.left-n.left),u.current.style.setProperty("--overlayArrowLeft","".concat(p,"px")),n.top<l.top&&!Y()&&h.addClass(u.current,"p-confirm-popup-flipped")}},Ee=function(n){return u&&u.current&&!(u.current.isSameNode(n)||u.current.contains(n))},T=function(n){if(n.tagKey===c.tagKey){var l=v!==n.visible,p=a("target")!==n.target;p&&!c.target?(d(),_.current=n,z(!0)):l&&(_.current=n,n.visible?M():d())}};i.useEffect(function(){c.visible?M():d()},[c.visible]),i.useEffect(function(){return!c.target&&!c.message&&m.on("confirm-popup",T),function(){m.off("confirm-popup",T)}},[c.target]),Ae(function(){F&&M()},[F]),Te(function(){g.current&&(m.off("overlay-click",g.current),g.current=null),m.off("confirm-popup",T),Z.clear(u.current)}),i.useImperativeHandle(t,function(){return{props:c,confirm:T}});var je=function(){var n=k(),l=w.getJSXElement(a("message"),n),p=r({className:y("icon")},b("icon")),f=Ne.getJSXIcon(a("icon"),O({},p),{props:n}),X=r({className:y("message")},b("message")),V=r({className:y("content")},b("content"));return i.createElement("div",V,f,i.createElement("span",X,l))},he=function(){var n=S("p-confirm-popup-accept p-button-sm",a("acceptClassName")),l=S("p-confirm-popup-reject p-button-sm",{"p-button-text":!a("rejectClassName")},a("rejectClassName")),p=r({className:y("footer")},b("footer")),f=r({ref:L,label:q,icon:a("rejectIcon"),className:y("rejectButton",{getPropValue:a}),onClick:ne,pt:b("rejectButton"),unstyled:c.unstyled,__parentMetadata:{parent:K}}),X=r({ref:B,label:W,icon:a("acceptIcon"),className:y("acceptButton",{getPropValue:a}),onClick:re,pt:b("acceptButton"),unstyled:c.unstyled,__parentMetadata:{parent:K}}),V=i.createElement("div",p,i.createElement(ie,f),i.createElement(ie,X));if(a("footer")){var xe={accept:re,reject:ne,className:"p-confirm-popup-footer",acceptClassName:n,rejectClassName:l,acceptLabel:W,rejectLabel:q,element:V,props:k()};return w.getJSXElement(a("footer"),xe)}return V},oe=r({ref:u,id:a("id"),className:S(c.className,y("root",{context:o,getPropValue:a})),style:a("style"),onClick:ve},D.getOtherProps(c),b("root")),ae=r({classNames:y("transition"),in:v,timeout:{enter:120,exit:100},options:a("transitionOptions"),unmountOnExit:!0,onEnter:de,onEntered:be,onExit:ye,onExited:ge},b("transition")),Oe=function(){var n=k(),l=w.getJSXElement(a("message"),n),p={message:l,acceptBtnRef:B,rejectBtnRef:L,hide:d};return i.createElement(le,U({nodeRef:u},ae),i.createElement("div",oe,w.getJSXElement(e.content,p)))},Se=function(){var n=je(),l=he();return i.createElement(le,U({nodeRef:u},ae),i.createElement("div",oe,n,l))},Ce=e!=null&&e.content?Oe():Se();return i.createElement(Ve,{element:Ce,appendTo:a("appendTo"),visible:a("visible")})}));Ge.displayName="ConfirmPopup";export{Ge as C,et as c};
