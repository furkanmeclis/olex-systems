import{r,F as R,j as e,S as B,A as O}from"./app-B5hOVfH9.js";import{A as U}from"./AuthenticatedLayout-CGl5Nm7p.js";import{D as K}from"./datatable.esm-QJI4O82W.js";import{C as s}from"./column.esm-CoRGq6r6.js";import{B as i}from"./button.esm-C1jYkyJJ.js";import{T as H}from"./tooltip.esm-C8BHV-dw.js";import{C as I}from"./confirmpopup.esm-C3J1yZ_B.js";import{T as W}from"./toolbar.esm-BPiIQi58.js";import{D as X}from"./dialog.esm-BZ7r1lVd.js";import{T as Y}from"./toast.esm-bsuWSzMT.js";import{O as V}from"./overlaypanel.esm-KtariU9V.js";import{C as q}from"./checkbox.esm-DvLccLir.js";import J from"./Update-DCKNdWRF.js";import{c as Q}from"./ripple.esm-C8vDKjYa.js";import"./Dropdown-BCrBNwSn.js";import"./tag.esm-CqEA-pfW.js";import"./motion-BOEnrRgn.js";import"./index.esm-DX9gGFyW.js";import"./paginator.esm-CcWajGuk.js";import"./inputnumber.esm-B5fvO03m.js";import"./inputtext.esm-CjyKDb2H.js";import"./index.esm-BaD6bgKF.js";import"./dropdown.esm-59qGJHKl.js";import"./index.esm-BRsBOsfu.js";import"./index.esm-CQM5Aq1Y.js";import"./overlayservice.esm-_B6wgAjW.js";import"./csstransition.esm-BM1qMnOK.js";import"./index.esm-Cy9Tzrg9.js";import"./index.esm-CF18XLKO.js";import"./index.esm-DxYkkY4m.js";import"./index.esm-Crpx_GqD.js";import"./index.esm-EV6_XWsF.js";import"./index.esm-jCW2sksr.js";import"./index.esm-DHmtDzg1.js";import"./TransitionGroup-BQ-d_Upr.js";import"./blockui.esm-C2SGvxAI.js";import"./formik.esm-B9hlUNfV.js";import"./cloneDeep-DJN0yfLA.js";import"./index.esm-B2iZkhpi.js";import"./message.esm-DfscaZOo.js";import"./selectbutton.esm-BOXwK5QO.js";import"./badge.esm-CKGaXPij.js";import"./inputmask.esm-B4ClysfD.js";function Ke({auth:j,customersAll:y,csrf_token:g,page:n=!0,superPage:b=!0}){const p=r.useRef(null),d=r.useRef(null);r.useState({global:{value:null,matchMode:R.CONTAINS}}),r.useState(!1);const[m,k]=r.useState(!1);r.useState("");const[v,_]=r.useState([]),[w,M]=r.useState({}),u=r.useRef(),[C,S]=r.useState(y),P=["id","name","email","phone","company_name","worker_name","company_address","address","updated_at","created_at","actions"],N={id:"ID",name:"Müşteri Adı",phone:"Telefon",email:"Email",address:"Müşteri Adresi",company_name:"Bayi Adı",worker_name:"Ekleyen Çalışan",company_address:"Bayi Adres",updated_at:"Güncellenme Tarihi",created_at:"Eklenme Tarihi",actions:"İşlemler"},T=n===!0?"super-customers-table-columns":"super-customers-table-columns-2",[t,A]=Q(["id","name","email","phone","company_name","worker_name","updated_at","actions"],T),[l,h]=r.useState(!1),c=()=>{l&&h(!1)},z=e.jsx(e.Fragment,{children:e.jsx(W,{start:()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{icon:"pi pi-bars",size:"small",severity:"info",tooltip:"Kolonları Yönet",tooltipOptions:{position:"top"},onClick:a=>{d.current.toggle(a)},className:"mr-2"}),v.length>0&&e.jsx(e.Fragment,{children:e.jsx(i,{size:"small",icon:"pi pi-times",className:"p-button-warning mr-2",onClick:()=>_([]),tooltip:"Seçimi Temizle",tooltipOptions:{position:"top"}})})]})})}),[F,f]=r.useState(!1),L=a=>{l||(M(a),h(!0))},x=()=>e.jsxs(e.Fragment,{children:[e.jsx(H,{target:".custom-target-icon"}),e.jsx(I,{}),e.jsx(Y,{ref:p}),e.jsx(V,{ref:d,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{children:"Kolonları Yönet"})}),e.jsxs("div",{className:"flex flex-col",children:[P.map((a,D)=>e.jsxs("div",{className:"flex my-1 items-center",children:[e.jsx(q,{inputId:a,checked:t.includes(a),onChange:E=>{let o=[...t];E.checked?o.push(a):o=o.filter(G=>G!==a),A(o)}}),e.jsx("label",{htmlFor:a,className:"ml-2",children:N[a]})]},D)),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(i,{label:"Kaydet",severity:"success",size:"small",onClick:()=>{d.current.hide()}})})]})]})}),e.jsxs(K,{value:C,removableSort:!0,paginator:!0,paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",rowsPerPageOptions:[5,10,25,50],rows:10,dataKey:"id",filters:{name:{value:"",matchMode:"contains"},email:{value:"",matchMode:"contains"},phone:{value:"",matchMode:"contains"},"dealer.company.company_name":{value:"",matchMode:"contains"},"worker.name":{value:"",matchMode:"contains"},"dealer.company.company_address":{value:"",matchMode:"contains"},address:{value:"",matchMode:"contains"}},filterDisplay:"row",loading:!1,globalFilterFields:["name","email","phone","dealer.company.company_name","dealer.name","dealer.company.company_address"],header:z,emptyMessage:"Müşteri bulunamadı.",currentPageReportTemplate:"{first}. ile {last}. arası toplam {totalRecords} kayıttan",children:[t.includes("id")&&e.jsx(s,{field:"id",sortable:!0,header:"#"}),t.includes("name")&&e.jsx(s,{field:"name",filter:!0,filterPlaceholder:"Ada Göre",sortable:!0,header:"Müşteri Adı"}),t.includes("email")&&e.jsx(s,{field:"email",filter:!0,filterPlaceholder:"Emaile Göre",sortable:!0,header:"Email"}),t.includes("phone")&&e.jsx(s,{field:"phone",filter:!0,filterPlaceholder:"Telefona Göre",sortable:!0,header:"Telefon No"}),t.includes("company_name")&&e.jsx(s,{field:"dealer.company.company_name",filter:!0,filterPlaceholder:"Bayi Adına Göre",sortable:!0,header:"Bayi Adı",body:a=>e.jsx(i,{label:a.dealer.name,link:!0,size:"small",onClick:()=>{O.visit(route("central.dealers.show",a.dealer.id))}})}),t.includes("worker_name")&&e.jsx(s,{field:"worker.name",sortable:!0,filter:!0,filterPlaceholder:"Çalışana Göre",header:"Ekleyen Çalışan",body:a=>e.jsx(i,{label:a.worker.name,link:!0,size:"small",onClick:()=>{}})}),t.includes("company_address")&&e.jsx(s,{field:"dealer.company.company_address",sortable:!0,filter:!0,filterPlaceholder:"Bayi Adresine Göre",header:"Bayi Adres"}),t.includes("address")&&e.jsx(s,{field:"address",filter:!0,filterPlaceholder:"Adrese Göre",sortable:!0,header:"Müşteri Adresi"}),t.includes("created_at")&&e.jsx(s,{field:"created_at",sortable:!0,header:"Eklenme Tarihi",body:a=>new Date(a.created_at).toLocaleString()}),t.includes("updated_at")&&e.jsx(s,{field:"updated_at",sortable:!0,header:"Güncellenme Tarihi",body:a=>new Date(a.updated_at).toLocaleString()}),t.includes("actions")&&e.jsx(s,{header:"İşlemler",body:a=>e.jsx("div",{className:"flex justify-center gap-x-2",children:e.jsx(i,{icon:"pi pi-pencil",size:"small",tooltip:"Müşteriyi Düzenle",tooltipOptions:{position:"top"},severity:"warning",onClick:()=>{L(a)}})})})]}),e.jsx(X,{header:"Müşteriyi Düzenle",style:{width:"50vw"},breakpoints:{"960px":"75vw","641px":"100vw"},onHide:c,maximizable:!0,visible:l,footer:e.jsxs(e.Fragment,{children:[e.jsx(i,{label:"Vazgeç",icon:"pi pi-times",size:"small",link:!0,onClick:c,loading:m}),e.jsx(i,{label:"Kaydet",icon:"pi pi-save",size:"small",className:"p-button-success",loading:m,onClick:()=>{f(!0),u.current.click()}})]}),children:e.jsx(J,{updateModal:l,superPage:b,user:w,csrf_token:g,toast:p,onHide:c,setUsers:S,formRef:u,setFormSubmitted:f,formSubmitted:F,loading:m,setLoading:k,page:n})})]});return n===!0?e.jsxs(U,{user:j.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Müşteriler"}),children:[e.jsx(B,{title:"Müşteriler"}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx(x,{})})})})]}):e.jsx(x,{})}export{Ke as default};
