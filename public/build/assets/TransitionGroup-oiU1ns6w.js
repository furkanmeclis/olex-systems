import{_ as E,a as g,b as x,T as m}from"./csstransition.esm-CexleeVb.js";import{r as c,R as p}from"./app-NbOgzo0a.js";function b(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,i){var a=function(n){return i&&c.isValidElement(n)?i(n):n},o=Object.create(null);return t&&c.Children.map(t,function(e){return e}).forEach(function(e){o[e.key]=a(e)}),o}function M(t,i){t=t||{},i=i||{};function a(f){return f in i?i[f]:t[f]}var o=Object.create(null),e=[];for(var n in t)n in i?e.length&&(o[n]=e,e=[]):e.push(n);var r,l={};for(var u in i){if(o[u])for(r=0;r<o[u].length;r++){var s=o[u][r];l[o[u][r]]=a(s)}l[u]=a(u)}for(r=0;r<e.length;r++)l[e[r]]=a(e[r]);return l}function d(t,i,a){return a[i]!=null?a[i]:t.props[i]}function C(t,i){return h(t.children,function(a){return c.cloneElement(a,{onExited:i.bind(null,a),in:!0,appear:d(a,"appear",t),enter:d(a,"enter",t),exit:d(a,"exit",t)})})}function V(t,i,a){var o=h(t.children),e=M(i,o);return Object.keys(e).forEach(function(n){var r=e[n];if(c.isValidElement(r)){var l=n in i,u=n in o,s=i[n],f=c.isValidElement(s)&&!s.props.in;u&&(!l||f)?e[n]=c.cloneElement(r,{onExited:a.bind(null,r),in:!0,exit:d(r,"exit",t),enter:d(r,"enter",t)}):!u&&l&&!f?e[n]=c.cloneElement(r,{in:!1}):u&&l&&c.isValidElement(s)&&(e[n]=c.cloneElement(r,{onExited:a.bind(null,r),in:s.props.in,exit:d(r,"exit",t),enter:d(r,"enter",t)}))}}),e}var F=Object.values||function(t){return Object.keys(t).map(function(i){return t[i]})},T={component:"div",childFactory:function(i){return i}},v=function(t){E(i,t);function i(o,e){var n;n=t.call(this,o,e)||this;var r=n.handleExited.bind(b(n));return n.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},n}var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r=n.children,l=n.handleExited,u=n.firstRender;return{children:u?C(e,l):V(e,r,l),firstRender:!1}},a.handleExited=function(e,n){var r=h(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(n),this.mounted&&this.setState(function(l){var u=g({},l.children);return delete u[e.key],{children:u}}))},a.render=function(){var e=this.props,n=e.component,r=e.childFactory,l=x(e,["component","childFactory"]),u=this.state.contextValue,s=F(this.state.children).map(r);return delete l.appear,delete l.enter,delete l.exit,n===null?p.createElement(m.Provider,{value:u},s):p.createElement(m.Provider,{value:u},p.createElement(n,l,s))},i}(p.Component);v.propTypes={};v.defaultProps=T;export{v as T};
