import{r as t,F as L,j as e,L as F,S as z}from"./app-BXkr8zNq.js";import{A as E}from"./AuthenticatedLayout-3emStgEM.js";import{D as G}from"./datatable.esm-DxiIGWbf.js";import{C as s}from"./column.esm-DCWLhAly.js";import{B as l}from"./button.esm-C-xL3jCS.js";import{T as B}from"./tooltip.esm-D01t5DTH.js";import{C as R}from"./confirmpopup.esm-DjLMfGP_.js";import{T as D}from"./toolbar.esm-BA3pzFtC.js";import{T as O}from"./toast.esm-BnSCxBKT.js";import{O as U}from"./overlaypanel.esm-YcFVW-QE.js";import{C as I}from"./checkbox.esm-B0Gb9-rl.js";import"./index.esm-CCL8B-NA.js";import K from"./Update2-Dt3J6vTl.js";import{c as W}from"./ripple.esm-CO6ppkcz.js";import"./Dropdown-C3fjsPOA.js";import"./tag.esm-CyrpTO4b.js";import"./motion-B6t-CxPz.js";import"./index.esm-Dfk06BrO.js";import"./paginator.esm-De6T5fZX.js";import"./inputnumber.esm-BRbL_MIx.js";import"./inputtext.esm-CYZkVV1t.js";import"./index.esm-B5VDB8mX.js";import"./dropdown.esm-Db5xbNiT.js";import"./index.esm-DkwenYUf.js";import"./index.esm-Tzo3vGBe.js";import"./overlayservice.esm-Cd2Ycvpd.js";import"./csstransition.esm-DO8sCmhe.js";import"./index.esm-C0Nurxnh.js";import"./index.esm-Dkg0Ut6z.js";import"./index.esm-D7W7c1cI.js";import"./index.esm-iBz8EFEc.js";import"./index.esm-BNdNoxOn.js";import"./index.esm-DjwOeZCJ.js";import"./index.esm-CmunUKt0.js";import"./TransitionGroup-CaNo7MUT.js";import"./blockui.esm-Dp3X-p9C.js";import"./formik.esm-CDi1MvIl.js";import"./_baseClone-BgPU1wOP.js";import"./message.esm-J8TS7I_J.js";import"./selectbutton.esm-D-YRYDOO.js";import"./badge.esm-CxvbgAte.js";import"./dialog.esm-BvFE2yov.js";import"./inputmask.esm-BPCXpuOD.js";function Ee({auth:u,customersAll:h,csrf_token:f,page:n=!0,superPage:x=!0}){const d=t.useRef(null),o=t.useRef(null);t.useState({global:{value:null,matchMode:L.CONTAINS}}),t.useState(!1),t.useState(!1),t.useState("");const[y,j]=t.useState([]),[g,b]=t.useState({});t.useRef();const[k,_]=t.useState(h),v=["id","name","email","phone","company_name","worker_name","company_address","address","updated_at","created_at","actions"],w={id:"ID",name:"Müşteri Adı",phone:"Telefon",email:"Email",address:"Müşteri Adresi",company_name:"Bayi Adı",worker_name:"Ekleyen Çalışan",company_address:"Bayi Adres",updated_at:"Güncellenme Tarihi",created_at:"Eklenme Tarihi",actions:"İşlemler"},M=n===!0?"super-customers-table-columns":"super-customers-table-columns-2",[r,P]=W(["id","name","email","phone","company_name","worker_name","updated_at","actions"],M),[m,c]=t.useState(!1),S=e.jsx(e.Fragment,{children:e.jsx(D,{start:()=>e.jsxs(e.Fragment,{children:[e.jsx(l,{icon:"pi pi-bars",size:"small",severity:"info",tooltip:"Kolonları Yönet",tooltipOptions:{position:"top"},onClick:a=>{o.current.toggle(a)},className:"mr-2"}),y.length>0&&e.jsx(e.Fragment,{children:e.jsx(l,{size:"small",icon:"pi pi-times",className:"p-button-warning mr-2",onClick:()=>j([]),tooltip:"Seçimi Temizle",tooltipOptions:{position:"top"}})})]})})});t.useState(!1);const T=a=>{m||(b(a),c(!0))},p=()=>e.jsxs(e.Fragment,{children:[e.jsx(B,{target:".custom-target-icon"}),e.jsx(R,{}),e.jsx(O,{ref:d}),e.jsx(U,{ref:o,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{children:"Kolonları Yönet"})}),e.jsxs("div",{className:"flex flex-col",children:[v.map((a,C)=>e.jsxs("div",{className:"flex my-1 items-center",children:[e.jsx(I,{inputId:a,checked:r.includes(a),onChange:N=>{let i=[...r];N.checked?i.push(a):i=i.filter(A=>A!==a),P(i)}}),e.jsx("label",{htmlFor:a,className:"ml-2",children:w[a]})]},C)),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(l,{label:"Kaydet",severity:"success",size:"small",onClick:()=>{o.current.hide()}})})]})]})}),e.jsxs(G,{value:k,removableSort:!0,paginator:!0,paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",rowsPerPageOptions:[5,10,25,50],rows:10,dataKey:"id",loading:!1,globalFilterFields:["name","email","phone","dealer.company.company_name","dealer.name","dealer.company.company_address"],header:S,filterDisplay:"row",filters:{name:{value:"",matchMode:"contains"},email:{value:"",matchMode:"contains"},phone:{value:"",matchMode:"contains"},"dealer.company.company_name":{value:"",matchMode:"contains"},"worker.name":{value:"",matchMode:"contains"},"dealer.company.company_address":{value:"",matchMode:"contains"},address:{value:"",matchMode:"contains"}},emptyMessage:"Müşteri bulunamadı.",currentPageReportTemplate:"{first}. ile {last}. arası toplam {totalRecords} kayıttan",children:[r.includes("id")&&e.jsx(s,{field:"id",sortable:!0,header:"#"}),r.includes("name")&&e.jsx(s,{field:"name",filter:!0,filterPlaceholder:"Ada Göre",sortable:!0,header:"Müşteri Adı"}),r.includes("email")&&e.jsx(s,{field:"email",filter:!0,filterPlaceholder:"Emaile Göre",sortable:!0,header:"Email"}),r.includes("phone")&&e.jsx(s,{field:"phone",filter:!0,filterPlaceholder:"Telefona Göre",sortable:!0,header:"Telefon No"}),r.includes("company_name")&&e.jsx(s,{field:"dealer.company.company_name",filter:!0,filterPlaceholder:"Bayi Adına Göre",sortable:!0,header:"Bayi Adı",body:a=>e.jsx(l,{label:a.dealer.name,link:!0,size:"small",onClick:()=>{z.visit(route("super.dealers.show",a.dealer.id))}})}),r.includes("worker_name")&&e.jsx(s,{field:"worker.name",filter:!0,filterPlaceholder:"Çalışana Göre",sortable:!0,header:"Ekleyen Çalışan",body:a=>e.jsx(l,{label:a.worker.name,link:!0,size:"small",onClick:()=>{}})}),r.includes("company_address")&&e.jsx(s,{field:"dealer.company.company_address",filter:!0,filterPlaceholder:"Bayi Adresine Göre",sortable:!0,header:"Bayi Adres"}),r.includes("address")&&e.jsx(s,{field:"address",filter:!0,filterPlaceholder:"Adrese Göre",sortable:!0,header:"Müşteri Adresi"}),r.includes("created_at")&&e.jsx(s,{field:"created_at",sortable:!0,header:"Eklenme Tarihi",body:a=>new Date(a.created_at).toLocaleString()}),r.includes("updated_at")&&e.jsx(s,{field:"updated_at",sortable:!0,header:"Güncellenme Tarihi",body:a=>new Date(a.updated_at).toLocaleString()}),r.includes("actions")&&e.jsx(s,{header:"İşlemler",body:a=>e.jsx("div",{className:"flex justify-center gap-x-2",children:e.jsx(l,{icon:"pi pi-pencil",size:"small",tooltip:"Müşteriyi Düzenle",tooltipOptions:{position:"top"},severity:"warning",onClick:()=>{T(a)}})})})]}),e.jsx(K,{visible:m,toast:d,superPage:x,user:g,csrf_token:f,setVisible:c,setUsers:_})]});return n===!0?e.jsxs(E,{user:u.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Müşteriler"}),children:[e.jsx(F,{title:"Merkez Üyeleri"}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx(p,{})})})})]}):e.jsx(p,{})}export{Ee as default};
