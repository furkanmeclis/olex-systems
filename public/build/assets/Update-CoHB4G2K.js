import{r as x,j as e,a as C}from"./app-DYHyNKN7.js";import{D}from"./dialog.esm-DjFf-PST.js";import{I as f}from"./inputtext.esm-V7zHuWkI.js";import{B as h}from"./button.esm-DU_nH01G.js";import{C as k}from"./checkbox.esm-DryfUi8y.js";import"./ripple.esm-BGxQRLkg.js";import"./csstransition.esm-qnoiCi2y.js";import"./index.esm-Qud_urY_.js";import"./tooltip.esm-Csu0gaGK.js";import"./index.esm-tnUHL2YI.js";import"./index.esm-CGiZOHsd.js";function U({visible:u,setVisible:l,toast:o,model:r,setModels:v,brand:d}){const[j,c]=x.useState(!1),[s,n]=x.useState({name:r.name,brand_id:d.id,is_active:r.is_active}),_=async t=>{var a,m;t.preventDefault();try{c(!0);const i=new FormData;i.append("name",s.name),i.append("brand_id",s.brand_id),i.append("is_active",s.is_active?"1":"0"),i.append("_method","PUT");const b=await C.post(route("super.car.brands.models.update",{brand:d.id,model:r.id}),i,{headers:{"Content-Type":"multipart/form-data"}});v(y=>y.map(p=>p.id===r.id?b.data.model:p)),o.current.show({severity:"success",summary:"Başarılı",detail:"Model başarıyla güncellendi",life:3e3}),l(!1)}catch(i){o.current.show({severity:"error",summary:"Hata",detail:((m=(a=i.response)==null?void 0:a.data)==null?void 0:m.message)||"Bir hata oluştu",life:3e3})}finally{c(!1)}},g=e.jsxs("div",{children:[e.jsx(h,{label:"İptal",icon:"pi pi-times",onClick:()=>l(!1),className:"p-button-text"}),e.jsx(h,{label:"Güncelle",icon:"pi pi-check",onClick:_,loading:j})]});return e.jsx(D,{header:"Model Düzenle",visible:u,style:{width:"50vw"},onHide:()=>l(!1),footer:g,children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"name",children:"Model Adı"}),e.jsx(f,{id:"name",value:s.name,onChange:t=>n(a=>({...a,name:t.target.value}))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"external_id",children:"Harici ID"}),e.jsx(f,{id:"external_id",value:s.external_id,onChange:t=>n(a=>({...a,external_id:t.target.value}))})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(k,{inputId:"is_active",checked:s.is_active,onChange:t=>n(a=>({...a,is_active:t.checked}))}),e.jsx("label",{htmlFor:"is_active",children:"Aktif"})]})]})})}export{U as default};
