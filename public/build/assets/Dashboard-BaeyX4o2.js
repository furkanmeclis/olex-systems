import{r as p,P as L,c as I,_ as K,R as o,j as e,S as W,A as c}from"./app-Co-7gdmf.js";import{A as U}from"./AuthenticatedLayout-BhkB-DN4.js";import{C as a}from"./card.esm-xvBc-8rn.js";import{B as d}from"./button.esm-D0cqDLEO.js";import{T as G}from"./toast.esm-6fRp5XB5.js";import{C as Y,b as $,c as J,g as X}from"./ripple.esm-7O1p7hxI.js";import{B as v}from"./blockui.esm-D_d5FA6O.js";import"./ApplicationLogo-C-vobTL-.js";import"./Dropdown-xVTfTpml.js";import"./transition-DjpoYHV3.js";import"./tag.esm-Cza7Pn2u.js";import"./index.esm-DuTvK6M2.js";import"./tooltip.esm-Bn9xShzq.js";import"./csstransition.esm-KBhN1N5D.js";import"./index.esm-CGMUC-m6.js";import"./index.esm-DSjkhcgc.js";import"./index.esm-jHyHxFnZ.js";import"./index.esm-r-Bh0G5C.js";var P=Y.extend({defaultProps:{__TYPE:"Chart",id:null,type:null,data:null,options:null,plugins:null,width:null,height:null,style:null,className:null,children:void 0},css:{classes:{root:"p-chart"},inlineStyles:{root:function(r){var x=r.props;return Object.assign({width:x.width,height:x.height},x.style)}},styles:`
        @layer primereact {
            .p-chart {
                position: relative
            }
        }
        `}}),z=function(){try{return Chart}catch{return null}}(),b=p.memo(p.forwardRef(function(l,r){var x=$(),g=p.useContext(L),i=P.getProps(l,g),j=P.setMetaData({props:i}),N=j.ptm,D=j.cx,B=j.sx,w=j.isUnstyled;J(P.css.styles,w,{name:"chart"});var S=p.useRef(null),n=p.useRef(null),u=p.useRef(null),R=function(){C();var k={type:i.type,data:i.data,options:i.options,plugins:i.plugins};z?n.current=new z(u.current,k):K(()=>import("./auto-Q-Ce4MY6.js"),[]).then(function(f){C(),u.current&&f&&(f.default?n.current=new f.default(u.current,k):n.current=new f(u.current,k))})},C=function(){n.current&&(n.current.destroy(),n.current=null)};p.useImperativeHandle(r,function(){return{props:i,getCanvas:function(){return u.current},getChart:function(){return n.current},getBase64Image:function(){return n.current.toBase64Image()},getElement:function(){return S.current},generateLegend:function(){return n.current&&n.current.generateLegend()},refresh:function(){return n.current&&n.current.update()}}}),p.useEffect(function(){R()}),X(function(){C()});var A=i.options&&i.options.plugins&&i.options.plugins.title&&i.options.plugins.title.text,y=i.ariaLabel||A,T=x({id:i.id,ref:S,style:B("root"),className:I(i.className,D("root"))},P.getOtherProps(i),N("root")),V=x({ref:u,width:i.width,height:i.height,role:"img","aria-label":y},N("canvas"));return p.createElement("div",T,p.createElement("canvas",V))}),function(l,r){return l.data===r.data&&l.options===r.options&&l.type===r.type});b.displayName="Chart";function he({auth:l,metrics:r,csrf_token:x}){o.useState();const[g,i]=o.useState(!1),j=o.useRef(null),[N,D]=o.useState({}),[B,w]=o.useState({}),[S,n]=o.useState({}),[u,R]=o.useState({}),[C,A]=o.useState({}),[y,T]=o.useState({}),[V,m]=o.useState({}),[k,f]=o.useState({}),[E,H]=o.useState({}),[M,_]=o.useState({}),O=()=>{i(!0);const s=getComputedStyle(document.documentElement);fetch(route(`${l.user.role==="super"?"super":"dealer"}.staticsData`),{method:"POST",headers:{"X-CSRF-TOKEN":x}}).then(t=>t.json()).then(t=>{D({labels:t.chart.chart.labels,datasets:[{label:"Tamamlanan Hizmetler",backgroundColor:s.getPropertyValue("--blue-500"),borderColor:s.getPropertyValue("--blue-600"),data:t.chart.chart.data,borderRadius:10}]}),w({labels:t.chart.brands.labels,datasets:[{label:"Marka Dağılımı",backgroundColor:s.getPropertyValue("--primary-500"),borderColor:s.getPropertyValue("--primary-600"),data:t.chart.brands.data,borderRadius:10}]}),l.user.role==="super"&&(n({labels:t.chart.dealer.labels,datasets:[{label:"Hizmet Bayi Dağılımı",backgroundColor:s.getPropertyValue("--green-500"),borderColor:s.getPropertyValue("--green-600"),data:t.chart.dealer.data,borderRadius:10}]}),m({labels:t.chart.products.labels,datasets:[{label:"Ürün Dağılımı",backgroundColor:s.getPropertyValue("--yellow-500"),borderColor:s.getPropertyValue("--yellow-600"),data:t.chart.products.data,borderRadius:10}]}),f({labels:t.chart.dealerCustomer.labels,datasets:[{label:"Bayi Müşteri Dağılımı",backgroundColor:s.getPropertyValue("--red-500"),borderColor:s.getPropertyValue("--red-600"),data:t.chart.dealerCustomer.data,borderRadius:10}]}),H({labels:t.chart.serviceWorker.labels,datasets:[{label:"Çalışan Hizmet Dağılımı",backgroundColor:s.getPropertyValue("--green-500"),borderColor:s.getPropertyValue("--green-600"),data:t.chart.serviceWorker.data,borderRadius:10}]}),_({labels:t.chart.productStock.labels,datasets:[{label:"Kullanılmayan",backgroundColor:s.getPropertyValue("--blue-500"),borderColor:s.getPropertyValue("--blue-600"),data:t.chart.productStock.data.map(h=>h.unused)},{label:"Kullanılan",backgroundColor:s.getPropertyValue("--green-500"),borderColor:s.getPropertyValue("--green-600"),data:t.chart.productStock.data.map(h=>h.used)}]})),l.user.role==="admin"&&A({labels:t.chart.worker.labels,datasets:[{label:"Çalışan Hizmet Dağılımı",backgroundColor:s.getPropertyValue("--green-500"),borderColor:s.getPropertyValue("--green-600"),data:t.chart.worker.data,borderRadius:10}]})}).catch(t=>{console.error("Error:",t),j.current.show({severity:"error",summary:"Hata",detail:"CSRF Token Hatası Lütfen Sayfayı Yenileyiniz.."})}).finally(()=>{i(!1)})};return o.useEffect(()=>{O()},[]),o.useEffect(()=>{const s=getComputedStyle(document.documentElement),t=s.getPropertyValue("--text-color"),h=s.getPropertyValue("--text-color-secondary"),F=s.getPropertyValue("--surface-border");R({maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{fontColor:t}}},scales:{x:{ticks:{color:h,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{min:0,ticks:{color:h},grid:{color:F,drawBorder:!1}}}}),T({indexAxis:"y",maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{fontColor:t}}},scales:{x:{min:0,ticks:{color:h,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:h},grid:{color:F,drawBorder:!1}}}})},[]),e.jsxs(U,{user:l.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Anasayfa"}),children:[e.jsx(W,{title:"Anasayfa"}),e.jsx(G,{ref:j}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-[100rem] mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[l.user.role==="super"&&e.jsxs(e.Fragment,{children:[e.jsx(a,{title:"Bayiler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",r.dealers," Adet Bayi"]}),children:e.jsx(d,{label:"Bayiler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.dealers.index"))}})}),e.jsx(a,{title:"Çalışanlar",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",r.workers," Adet Bayi Çalışanı"]}),children:e.jsx(d,{label:"Çalışanlar",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.workers.index"))}})}),e.jsx(a,{title:"Ürünler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-box"})," ",r.products," Adet Ürün"]}),children:e.jsx(d,{label:"Ürünler",icon:"pi pi-box",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.products.index"))}})}),e.jsx(a,{title:"Bayi Ürün Siparişleri",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-database"})," ",r.orders," Adet Sipariş"]}),children:e.jsx(d,{label:"Siparişler",icon:"pi pi-database",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.orders.index"))}})}),e.jsx(a,{title:"Müşteriler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",r.customers," Adet Müşteri"]}),children:e.jsx(d,{label:"Müşteriler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.customers.index"))}})}),e.jsx(a,{title:"Hizmetler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-file"})," ",r.services," Adet Hizmet Kaydı"]})})]}),String(l.user.role).includes("central")&&e.jsxs(e.Fragment,{children:[e.jsx(a,{title:"Bayiler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",r.dealers," Adet Bayi"]}),children:e.jsx(d,{label:"Bayiler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("central.dealers.index"))}})}),e.jsx(a,{title:"Çalışanlar",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",r.workers," Adet Bayi Çalışanı"]}),children:e.jsx(d,{label:"Çalışanlar",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("central.workers.index"))}})}),e.jsx(a,{title:"Ürünler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-box"})," ",r.products," Adet Ürün"]}),children:e.jsx(d,{label:"Ürünler",icon:"pi pi-box",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("central.products.index"))}})}),e.jsx(a,{title:"Bayi Ürün Siparişleri",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-database"})," ",r.orders," Adet Sipariş"]}),children:e.jsx(d,{label:"Siparişler",icon:"pi pi-database",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("central.orders.index"))}})}),e.jsx(a,{title:"Müşteriler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",r.customers," Adet Müşteri"]}),children:e.jsx(d,{label:"Müşteriler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.customers.index"))}})})]}),l.user.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(a,{title:"Çalışanlar",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",r.workers," Adet Çalışan"]}),children:e.jsx(d,{label:"Çalışanlar",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("dealer.workers.index"))}})}),e.jsx(a,{title:"Siparişler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-database"})," ",r.orders," Adet Sipariş"]}),children:e.jsx(d,{label:"Siparişler",icon:"pi pi-database",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("dealer.orders"))}})}),e.jsx(a,{title:"Müşteriler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",r.customers," Adet Müşteri"]}),children:e.jsx(d,{label:"Müşteriler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("dealer.customers"))}})}),e.jsx(a,{title:"Hizmetler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-file"})," ",r.services," Adet Hizmet Kaydı"]}),children:e.jsx(d,{label:"Hizmetler",icon:"pi pi-file",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("dealer.services"))}})})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs(v,{blocked:g,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:[l.user.role==="super"&&e.jsxs(v,{blocked:g,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:[e.jsx(a,{title:"Ürün Kullanım Grafiği",children:e.jsx(b,{type:"bar",data:V,options:y})}),e.jsx(a,{title:"Ürün Stok Grafiği",className:"mt-2",children:e.jsx(b,{type:"bar",data:M,options:y})})]}),e.jsx(a,{title:"Hizmet Dağılımı",className:"mt-2",children:e.jsx(b,{type:"bar",data:N,options:u})})]}),l.user.role==="super"&&e.jsxs(v,{blocked:g,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:[e.jsx(a,{title:"Hizmet Bayi Dağılımı",className:"mt-2",children:e.jsx(b,{type:"bar",data:S,options:u})}),e.jsx(a,{title:"Çalışan Hizmet Dağılımı",className:"mt-2",children:e.jsx(b,{type:"bar",data:E,options:y})}),e.jsx(a,{title:"Bayi Müşteri Dağılımı",className:"mt-2",children:e.jsx(b,{type:"bar",data:k,options:y})})]}),e.jsx(v,{blocked:g,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:e.jsx(a,{title:"Hizmet Marka Dağılımı",className:"mt-2",children:e.jsx(b,{type:"bar",data:B,options:y})})}),l.user.role==="admin"&&e.jsx(v,{blocked:g,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:e.jsx(a,{title:"Çalışan Performans Grafiği",className:"mt-2",children:e.jsx(b,{type:"bar",data:C,options:u})})})]})]})})]})}export{he as default};
