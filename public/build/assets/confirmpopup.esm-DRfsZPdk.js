import{r as i,P as we,l as ce,D as h,c as w,b as H,O as x,Z,I as Ne}from"./app-DFN-SBn_.js";import{B as ie}from"./button.esm-DUV2jUL6.js";import{C as Re,u as Ie,a as _e,g as Be,h as Le,m as Ae,e as Te,f as Ve,P as ke,E as De}from"./ripple.esm-kMaAI51K.js";import{C as le}from"./csstransition.esm-BJa-8sZm.js";import{O as m}from"./overlayservice.esm-C8IfOK5J.js";function U(){return U=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},U.apply(this,arguments)}function He(t){if(Array.isArray(t))return t}function Ue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o,c,E,j,v=[],y=!0,R=!1;try{if(E=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;y=!1}else for(;!(y=(o=E.call(r)).done)&&(v.push(o.value),v.length!==e);y=!0);}catch(I){R=!0,c=I}finally{try{if(!y&&r.return!=null&&(j=r.return(),Object(j)!==j))return}finally{if(R)throw c}}return v}}function se(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function Fe(t,e){if(t){if(typeof t=="string")return se(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(t,e)}}function Ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G(t,e){return He(t)||Ue(t,e)||Fe(t,e)||Ke()}function N(t){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(t)}function $e(t,e){if(N(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||"default");if(N(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Je(t){var e=$e(t,"string");return N(e)==="symbol"?e:String(e)}function Me(t,e,r){return e=Je(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xe=`
@layer primereact {
    .p-confirm-popup-flipped {
        margin-top: 0;
        margin-bottom: 10px;
    }
    
    .p-confirm-popup:after, .p-confirm-popup:before {
        bottom: 100%;
        left: calc(var(--overlayArrowLeft, 0) + 1.25rem);
        content: " ";
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
    }
    
    .p-confirm-popup:after {
        border-width: 8px;
        margin-left: -8px;
    }
    
    .p-confirm-popup:before {
        border-width: 10px;
        margin-left: -10px;
    }
    
    .p-confirm-popup-flipped:after, .p-confirm-popup-flipped:before {
        bottom: auto;
        top: 100%;
    }
    
    .p-confirm-popup.p-confirm-popup-flipped:after {
        border-bottom-color: transparent;
    }
    
    .p-confirm-popup.p-confirm-popup-flipped:before {
        border-bottom-color: transparent
    }
    
    .p-confirm-popup .p-confirm-popup-content {
        display: flex;
        align-items: center;
    }
}
`,Ze={root:function(e){var r=e.context,o=e.getPropValue;return w("p-confirm-popup p-component",o("className"),{"p-input-filled":r&&r.inputStyle==="filled"||H.inputStyle==="filled","p-ripple-disabled":r&&r.ripple===!1||H.ripple===!1})},acceptButton:function(e){var r=e.getPropValue;return w("p-confirm-popup-accept p-button-sm",r("acceptClassName"))},rejectButton:function(e){var r=e.getPropValue;return w("p-confirm-popup-reject p-button-sm",{"p-button-text":!r("rejectClassName")},r("rejectClassName"))},content:"p-confirm-popup-content",icon:"p-confirm-popup-icon",message:"p-confirm-popup-message",footer:"p-confirm-popup-footer",transition:"p-connected-overlay"},D=Re.extend({defaultProps:{__TYPE:"ConfirmPopup",accept:null,acceptClassName:null,acceptIcon:null,acceptLabel:null,appendTo:null,children:void 0,className:null,closeOnEscape:!0,content:null,defaultFocus:"accept",dismissable:!0,footer:null,icon:null,message:null,onHide:null,onShow:null,reject:null,rejectClassName:null,rejectIcon:null,rejectLabel:null,style:null,tagKey:void 0,target:null,transitionOptions:null,visible:!1},css:{classes:Ze,styles:Xe}});function ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),r.push.apply(r,o)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ue(Object(r),!0).forEach(function(o){Me(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}var et=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e=O(O({},e),{visible:e.visible===void 0?!0:e.visible}),e.visible&&m.emit("confirm-popup",e);var r=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m.emit("confirm-popup",O(O(O({},e),E),{visible:!0}))},o=function(){m.emit("confirm-popup",{visible:!1})};return{show:r,hide:o}},Ge=i.memo(i.forwardRef(function(t,e){var r=Ie(),o=i.useContext(we),c=D.getProps(t,o),E=i.useState(c.visible),j=G(E,2),v=j[0],y=j[1],R=i.useState(!1),I=G(R,2),F=I[0],z=I[1],K={props:c,state:{visible:v,reshow:F}},$=D.setMetaData(K),b=$.ptm,g=$.cx,Y=$.isUnstyled;_e(D.css.styles,Y,{name:"confirmpopup"});var u=i.useRef(null),_=i.useRef(null),B=i.useRef(null),S=i.useRef(!1),P=i.useRef(null),L=i.useRef(null),J=i.useRef(null),C=i.useRef(!1),A=function(){return L.current||c},a=function(n){return(L.current||c)[n]},T=function(n){for(var l=arguments.length,p=new Array(l>1?l-1:0),f=1;f<l;f++)p[f-1]=arguments[f];return x.getPropValue(a(n),p)},W=a("acceptLabel")||ce("accept"),q=a("rejectLabel")||ce("reject"),Q=c.dismissable&&c.closeOnEscape&&v,ee=Be("dialog",Q);Le({callback:function(){d("hide")},when:Q&&ee,priority:[De.DIALOG,ee]});var pe=Ae({target:a("target"),overlay:u,listener:function(n,l){var p=l.type,f=l.valid;f&&(p==="outside"?c.dismissable&&!S.current&&d("hide"):d("hide")),S.current=!1},when:v}),te=G(pe,2),fe=te[0],me=te[1],ve=function(n){S.current=!0,m.emit("overlay-click",{originalEvent:n,target:a("target")})},re=function(){C.current||(C.current=!0,T("accept"),d("accept"))},ne=function(){C.current||(C.current=!0,T("reject"),d("reject"))},M=function(){var n=A();z(!1),n.group===c.group&&(y(!0),C.current=!1,P.current=function(l){!Ee(l.target)&&(S.current=!0)},m.on("overlay-click",P.current),J.current=document.activeElement)},d=function(n){y(!1),m.off("overlay-click",P.current),P.current=null,n&&T("onHide",n),h.focus(J.current),J.current=null},de=function(){Z.set("overlay",u.current,o&&o.autoZIndex||H.autoZIndex,o&&o.zIndex.overlay||H.zIndex.overlay),h.addStyles(u.current,{position:"absolute",top:"50%",left:"50%",marginTop:"10px"}),Pe()},be=function(){fe();var n=a("defaultFocus");(n===void 0||n==="accept")&&_.current&&_.current.focus(),n==="reject"&&B.current&&B.current.focus(),T("onShow")},ge=function(){me()},ye=function(){Z.clear(u.current),S.current=!1},Pe=function(){if(a("target")){h.absolutePosition(u.current,a("target"));var n=h.getOffset(u.current),l=h.getOffset(a("target")),p=0;n.left<l.left&&(p=l.left-n.left),u.current.style.setProperty("--overlayArrowLeft","".concat(p,"px")),n.top<l.top&&!Y()&&h.addClass(u.current,"p-confirm-popup-flipped")}},Ee=function(n){return u&&u.current&&!(u.current.isSameNode(n)||u.current.contains(n))},V=function(n){if(n.tagKey===c.tagKey){var l=v!==n.visible,p=a("target")!==n.target;p&&!c.target?(d(),L.current=n,z(!0)):l&&(L.current=n,n.visible?M():d())}};i.useEffect(function(){c.visible?M():d()},[c.visible]),i.useEffect(function(){return!c.target&&!c.message&&m.on("confirm-popup",V),function(){m.off("confirm-popup",V)}},[c.target]),Te(function(){F&&M()},[F]),Ve(function(){P.current&&(m.off("overlay-click",P.current),P.current=null),m.off("confirm-popup",V),Z.clear(u.current)}),i.useImperativeHandle(e,function(){return{props:c,confirm:V}});var je=function(){var n=A(),l=x.getJSXElement(a("message"),n),p=r({className:g("icon")},b("icon")),f=Ne.getJSXIcon(a("icon"),O({},p),{props:n}),X=r({className:g("message")},b("message")),k=r({className:g("content")},b("content"));return i.createElement("div",k,f,i.createElement("span",X,l))},he=function(){var n=w("p-confirm-popup-accept p-button-sm",a("acceptClassName")),l=w("p-confirm-popup-reject p-button-sm",{"p-button-text":!a("rejectClassName")},a("rejectClassName")),p=r({className:g("footer")},b("footer")),f=r({ref:B,label:q,icon:a("rejectIcon"),className:g("rejectButton",{getPropValue:a}),onClick:ne,pt:b("rejectButton"),unstyled:c.unstyled,__parentMetadata:{parent:K}}),X=r({ref:_,label:W,icon:a("acceptIcon"),className:g("acceptButton",{getPropValue:a}),onClick:re,pt:b("acceptButton"),unstyled:c.unstyled,__parentMetadata:{parent:K}}),k=i.createElement("div",p,i.createElement(ie,f),i.createElement(ie,X));if(a("footer")){var xe={accept:re,reject:ne,className:"p-confirm-popup-footer",acceptClassName:n,rejectClassName:l,acceptLabel:W,rejectLabel:q,element:k,props:A()};return x.getJSXElement(a("footer"),xe)}return k},oe=r({ref:u,id:a("id"),className:g("root",{context:o,getPropValue:a}),style:a("style"),onClick:ve},D.getOtherProps(c),b("root")),ae=r({classNames:g("transition"),in:v,timeout:{enter:120,exit:100},options:a("transitionOptions"),unmountOnExit:!0,onEnter:de,onEntered:be,onExit:ge,onExited:ye},b("transition")),Oe=function(){var n=A(),l=x.getJSXElement(a("message"),n),p={message:l,acceptBtnRef:_,rejectBtnRef:B,hide:d};return i.createElement(le,U({nodeRef:u},ae),i.createElement("div",oe,x.getJSXElement(t.content,p)))},Se=function(){var n=je(),l=he();return i.createElement(le,U({nodeRef:u},ae),i.createElement("div",oe,n,l))},Ce=t!=null&&t.content?Oe():Se();return i.createElement(ke,{element:Ce,appendTo:a("appendTo"),visible:a("visible")})}));Ge.displayName="ConfirmPopup";export{Ge as C,et as c};
