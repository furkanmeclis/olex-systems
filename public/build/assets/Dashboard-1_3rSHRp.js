import{r as u,P as _,c as O,_ as L,R as o,j as e,S as I,A as c}from"./app-CWQ6TTc5.js";import{A as W}from"./AuthenticatedLayout-CNfjHheG.js";import{C as r}from"./card.esm-BLcpwpRS.js";import{B as d}from"./button.esm-BGo5Kj7K.js";import{T as K}from"./toast.esm-C6-U1rGp.js";import{C as U,b as G,c as Y,g as $}from"./ripple.esm-BTEtQNWd.js";import{B as v}from"./blockui.esm-CvBWTKjp.js";import"./ApplicationLogo-DLypT-Qt.js";import"./Dropdown-Dyq1lXeM.js";import"./transition-BiAnrqT9.js";import"./tag.esm-CZabVwv_.js";import"./index.esm-B5z7gf3_.js";import"./tooltip.esm-cqelOXSR.js";import"./csstransition.esm-JxySwj3n.js";import"./index.esm-Ddu7dzpJ.js";import"./index.esm-BXsN8MI2.js";import"./index.esm-cGtDVyKY.js";import"./index.esm-D9GJcczM.js";var D=U.extend({defaultProps:{__TYPE:"Chart",id:null,type:null,data:null,options:null,plugins:null,width:null,height:null,style:null,className:null,children:void 0},css:{classes:{root:"p-chart"},inlineStyles:{root:function(t){var x=t.props;return Object.assign({width:x.width,height:x.height},x.style)}},styles:`
        @layer primereact {
            .p-chart {
                position: relative
            }
        }
        `}}),V=function(){try{return Chart}catch{return null}}(),b=u.memo(u.forwardRef(function(i,t){var x=G(),h=u.useContext(_),s=D.getProps(i,h),g=D.setMetaData({props:s}),N=g.ptm,B=g.cx,P=g.sx,w=g.isUnstyled;Y(D.css.styles,w,{name:"chart"});var k=u.useRef(null),n=u.useRef(null),p=u.useRef(null),R=function(){y();var C={type:s.type,data:s.data,options:s.options,plugins:s.plugins};V?n.current=new V(p.current,C):L(()=>import("./auto-Q-Ce4MY6.js"),[]).then(function(f){y(),p.current&&f&&(f.default?n.current=new f.default(p.current,C):n.current=new f(p.current,C))})},y=function(){n.current&&(n.current.destroy(),n.current=null)};u.useImperativeHandle(t,function(){return{props:s,getCanvas:function(){return p.current},getChart:function(){return n.current},getBase64Image:function(){return n.current.toBase64Image()},getElement:function(){return k.current},generateLegend:function(){return n.current&&n.current.generateLegend()},refresh:function(){return n.current&&n.current.update()}}}),u.useEffect(function(){R()}),$(function(){y()});var A=s.options&&s.options.plugins&&s.options.plugins.title&&s.options.plugins.title.text,j=s.ariaLabel||A,T=x({id:s.id,ref:k,style:P("root"),className:O(s.className,B("root"))},D.getOtherProps(s),N("root")),F=x({ref:p,width:s.width,height:s.height,role:"img","aria-label":j},N("canvas"));return u.createElement("div",T,u.createElement("canvas",F))}),function(i,t){return i.data===t.data&&i.options===t.options&&i.type===t.type});b.displayName="Chart";function xe({auth:i,metrics:t,csrf_token:x}){o.useState();const[h,s]=o.useState(!1),g=o.useRef(null),[N,B]=o.useState({}),[P,w]=o.useState({}),[k,n]=o.useState({}),[p,R]=o.useState({}),[y,A]=o.useState({}),[j,T]=o.useState({}),[F,m]=o.useState({}),[C,f]=o.useState({}),[E,H]=o.useState({}),M=()=>{s(!0);const l=getComputedStyle(document.documentElement);fetch(route(`${i.user.role==="super"?"super":"dealer"}.staticsData`),{method:"POST",headers:{"X-CSRF-TOKEN":x}}).then(a=>a.json()).then(a=>{B({labels:a.chart.chart.labels,datasets:[{label:"Tamamlanan Hizmetler",backgroundColor:l.getPropertyValue("--blue-500"),borderColor:l.getPropertyValue("--blue-600"),data:a.chart.chart.data,borderRadius:10}]}),w({labels:a.chart.brands.labels,datasets:[{label:"Marka Dağılımı",backgroundColor:l.getPropertyValue("--primary-500"),borderColor:l.getPropertyValue("--primary-600"),data:a.chart.brands.data,borderRadius:10}]}),i.user.role==="super"&&(n({labels:a.chart.dealer.labels,datasets:[{label:"Hizmet Bayi Dağılımı",backgroundColor:l.getPropertyValue("--green-500"),borderColor:l.getPropertyValue("--green-600"),data:a.chart.dealer.data,borderRadius:10}]}),m({labels:a.chart.products.labels,datasets:[{label:"Ürün Dağılımı",backgroundColor:l.getPropertyValue("--yellow-500"),borderColor:l.getPropertyValue("--yellow-600"),data:a.chart.products.data,borderRadius:10}]}),f({labels:a.chart.dealerCustomer.labels,datasets:[{label:"Bayi Müşteri Dağılımı",backgroundColor:l.getPropertyValue("--red-500"),borderColor:l.getPropertyValue("--red-600"),data:a.chart.dealerCustomer.data,borderRadius:10}]}),H({labels:a.chart.serviceWorker.labels,datasets:[{label:"Çalışan Hizmet Dağılımı",backgroundColor:l.getPropertyValue("--green-500"),borderColor:l.getPropertyValue("--green-600"),data:a.chart.serviceWorker.data,borderRadius:10}]})),i.user.role==="admin"&&A({labels:a.chart.worker.labels,datasets:[{label:"Çalışan Hizmet Dağılımı",backgroundColor:l.getPropertyValue("--green-500"),borderColor:l.getPropertyValue("--green-600"),data:a.chart.worker.data,borderRadius:10}]})}).catch(a=>{console.error("Error:",a),g.current.show({severity:"error",summary:"Hata",detail:"CSRF Token Hatası Lütfen Sayfayı Yenileyiniz.."})}).finally(()=>{s(!1)})};return o.useEffect(()=>{M()},[]),o.useEffect(()=>{const l=getComputedStyle(document.documentElement),a=l.getPropertyValue("--text-color"),S=l.getPropertyValue("--text-color-secondary"),z=l.getPropertyValue("--surface-border");R({maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{fontColor:a}}},scales:{x:{ticks:{color:S,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{min:0,ticks:{color:S},grid:{color:z,drawBorder:!1}}}}),T({indexAxis:"y",maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{fontColor:a}}},scales:{x:{min:0,ticks:{color:S,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:S},grid:{color:z,drawBorder:!1}}}})},[]),e.jsxs(W,{user:i.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Anasayfa"}),children:[e.jsx(I,{title:"Anasayfa"}),e.jsx(K,{ref:g}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-[100rem] mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[i.user.role==="super"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Bayiler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.dealers," Adet Bayi"]}),children:e.jsx(d,{label:"Bayiler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.dealers.index"))}})}),e.jsx(r,{title:"Çalışanlar",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.workers," Adet Bayi Çalışanı"]}),children:e.jsx(d,{label:"Çalışanlar",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.workers.index"))}})}),e.jsx(r,{title:"Ürünler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-box"})," ",t.products," Adet Ürün"]}),children:e.jsx(d,{label:"Ürünler",icon:"pi pi-box",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.products.index"))}})}),e.jsx(r,{title:"Bayi Ürün Siparişleri",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-database"})," ",t.orders," Adet Sipariş"]}),children:e.jsx(d,{label:"Siparişler",icon:"pi pi-database",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.orders.index"))}})}),e.jsx(r,{title:"Müşteriler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.customers," Adet Müşteri"]}),children:e.jsx(d,{label:"Müşteriler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.customers.index"))}})}),e.jsx(r,{title:"Hizmetler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-file"})," ",t.services," Adet Hizmet Kaydı"]})})]}),String(i.user.role).includes("central")&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Bayiler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.dealers," Adet Bayi"]}),children:e.jsx(d,{label:"Bayiler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("central.dealers.index"))}})}),e.jsx(r,{title:"Çalışanlar",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.workers," Adet Bayi Çalışanı"]}),children:e.jsx(d,{label:"Çalışanlar",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("central.workers.index"))}})}),e.jsx(r,{title:"Ürünler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-box"})," ",t.products," Adet Ürün"]}),children:e.jsx(d,{label:"Ürünler",icon:"pi pi-box",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("central.products.index"))}})}),e.jsx(r,{title:"Bayi Ürün Siparişleri",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-database"})," ",t.orders," Adet Sipariş"]}),children:e.jsx(d,{label:"Siparişler",icon:"pi pi-database",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("central.orders.index"))}})}),e.jsx(r,{title:"Müşteriler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.customers," Adet Müşteri"]}),children:e.jsx(d,{label:"Müşteriler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("super.customers.index"))}})})]}),i.user.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"Çalışanlar",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.workers," Adet Çalışan"]}),children:e.jsx(d,{label:"Çalışanlar",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("dealer.workers.index"))}})}),e.jsx(r,{title:"Siparişler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-database"})," ",t.orders," Adet Sipariş"]}),children:e.jsx(d,{label:"Siparişler",icon:"pi pi-database",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("dealer.orders"))}})}),e.jsx(r,{title:"Müşteriler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-users"})," ",t.customers," Adet Müşteri"]}),children:e.jsx(d,{label:"Müşteriler",icon:"pi pi-users",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("dealer.customers"))}})}),e.jsx(r,{title:"Hizmetler",subTitle:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-file"})," ",t.services," Adet Hizmet Kaydı"]}),children:e.jsx(d,{label:"Hizmetler",icon:"pi pi-file",className:"p-button-raised p-button-rounded",onClick:()=>{c.visit(route("dealer.services"))}})})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs(v,{blocked:h,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:[i.user.role==="super"&&e.jsx(v,{blocked:h,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:e.jsx(r,{title:"Ürün Kullanım Grafiği",children:e.jsx(b,{type:"bar",data:F,options:j})})}),e.jsx(r,{title:"Hizmet Dağılımı",className:"mt-2",children:e.jsx(b,{type:"bar",data:N,options:p})})]}),i.user.role==="super"&&e.jsxs(v,{blocked:h,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:[e.jsx(r,{title:"Hizmet Bayi Dağılımı",className:"mt-2",children:e.jsx(b,{type:"bar",data:k,options:j})}),e.jsx(r,{title:"Çalışan Hizmet Dağılımı",className:"mt-2",children:e.jsx(b,{type:"bar",data:E,options:j})}),e.jsx(r,{title:"Bayi Müşteri Dağılımı",className:"mt-2",children:e.jsx(b,{type:"bar",data:C,options:j})})]}),e.jsx(v,{blocked:h,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:e.jsx(r,{title:"Hizmet Marka Dağılımı",className:"mt-2",children:e.jsx(b,{type:"bar",data:P,options:j})})}),i.user.role==="admin"&&e.jsx(v,{blocked:h,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:e.jsx(r,{title:"Çalışan Performans Grafiği",className:"mt-2",children:e.jsx(b,{type:"bar",data:y,options:p})})})]})]})})]})}export{xe as default};
